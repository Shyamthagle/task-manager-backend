(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8207:function(t,e,r){Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,9235))},5441:function(t,e,r){"use strict";r.d(e,{Ak:function(){return c},_5:function(){return i},vr:function(){return n},xJ:function(){return s}});var a=r(8472);let o="http://13.201.88.151:8000",n=async(t,e)=>{try{return(await a.Z.post("".concat(o,"/task"),t,{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(t){var r,n;throw console.error("Create task error:",t),Error((null===(n=t.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||"Create task failed")}},s=async(t,e)=>{try{return(await a.Z.put("".concat(o,"/task/").concat(t),e)).data}catch(t){var r,n;throw console.error("Update task error:",t),Error((null===(n=t.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||"Update task failed")}},c=async t=>{try{return(await a.Z.get("".concat(o,"/task"),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(t){var e,r;throw console.error("Get tasks error:",t),Error((null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"Get tasks failed")}},i=async t=>{try{await a.Z.delete("".concat(o,"/task/").concat(t))}catch(t){var e,r;throw console.error("Delete task error:",t),Error((null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"Delete task failed")}}},7918:function(t,e,r){"use strict";r.d(e,{IU:function(){return n},et:function(){return c},kS:function(){return i},x4:function(){return s}});var a=r(8472);let o="http://13.201.88.151:8000",n=async t=>{try{return(await a.Z.post("".concat(o,"/user/create"),t)).data}catch(t){throw Error(t.response.data.message)}},s=async t=>{try{return(await a.Z.post("".concat(o,"/user/login"),t)).data}catch(t){throw Error(t.response.data.message)}},c=async t=>{try{return(await a.Z.get("".concat(o,"/user/profile"),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(t){throw Error(t.response.data.message)}},i=async t=>{try{await a.Z.get("".concat(o,"/user/logout"),{headers:{Authorization:"Bearer ".concat(t)}})}catch(t){if(a.Z.isAxiosError(t)&&t.response)throw Error(t.response.data.message);throw Error("An unexpected error occurred")}}},9235:function(t,e,r){"use strict";r.d(e,{default:function(){return i},h:function(){return c}});var a=r(7437),o=r(2265),n=r(7918),s=r(5441);let c=(0,o.createContext)({inputDiv:"hidden",setInputDiv:()=>{},isLoggedIn:!1,setIsLoggedIn:()=>{},isLoading:!1,setIsLoading:()=>{},login:()=>{},logout:()=>{},tasks:[],setTasks:()=>{},tasksCount:0,setTasksCount:()=>{}});function i(t){let{children:e}=t,[r,i]=(0,o.useState)("hidden"),[u,d]=(0,o.useState)(!1),[l,h]=(0,o.useState)(!1),[f,v]=(0,o.useState)([]),[g,k]=(0,o.useState)(0);(0,o.useEffect)(()=>{let t=localStorage.getItem("token");t&&(d(!0),p(t))},[]);let p=async t=>{try{let e=await (0,s.Ak)(t);v(e.data),k(e.count)}catch(t){console.error("Error fetching tasks:",t)}},w=async t=>{localStorage.setItem("token",t),d(!0),await p(t)},y=async()=>{let t=localStorage.getItem("token");if(t){try{await (0,n.kS)(t)}catch(t){console.error("Logout failed:",t.message)}localStorage.removeItem("token"),d(!1),v([])}};return(0,a.jsx)(c.Provider,{value:{inputDiv:r,setInputDiv:i,isLoggedIn:u,setIsLoggedIn:d,isLoading:l,setIsLoading:h,login:w,logout:y,tasks:f,setTasks:v,tasksCount:g,setTasksCount:k},children:e})}},3054:function(){}},function(t){t.O(0,[141,472,971,23,744],function(){return t(t.s=8207)}),_N_E=t.O()}]);